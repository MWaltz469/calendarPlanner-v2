<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Trip Week Planner</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Sora:wght@500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="./styles.css?v=20260213y" />
</head>
<body>
  <main class="app-shell landing-shell">
    <header class="hero card landing-hero">
      <h1>Trip Week Planner</h1>
      <p>Coordinate group availability for your next trip. Everyone picks their weeks, the app finds the best overlap.</p>
    </header>

    <section class="landing-paths">
      <a href="./planner.html" class="landing-card card">
        <div class="landing-card-icon">&#128197;</div>
        <h2>Join a Trip</h2>
        <p>Enter your trip code and name to pick your available weeks and rank your top choices.</p>
        <span class="btn primary landing-btn">Open Planner</span>
      </a>

      <div class="landing-card card landing-join-direct">
        <div class="landing-card-icon">&#128279;</div>
        <h2>Have a trip code?</h2>
        <p>Jump straight in â€” enter your code and we'll take you there.</p>
        <div class="landing-join-form">
          <input id="landingTripCode" type="text" maxlength="18" placeholder="SQUAD2026" autocomplete="off" class="landing-input" />
          <button id="landingGoBtn" class="btn primary" type="button">Go</button>
        </div>
      </div>

      <a href="./admin.html" class="landing-card card">
        <div class="landing-card-icon">&#9881;</div>
        <h2>Admin Portal</h2>
        <p>Manage trips, view submissions, export data, and configure trip settings.</p>
        <span class="btn landing-btn">Open Admin</span>
      </a>
    </section>

    <footer class="landing-footer">
      <p>Free and open source. Runs on Cloudflare Pages + D1.</p>
    </footer>
  </main>

  <script>
    document.getElementById("landingGoBtn").addEventListener("click", goToTrip);
    document.getElementById("landingTripCode").addEventListener("keydown", function(e) {
      if (e.key === "Enter") goToTrip();
    });
    function goToTrip() {
      var code = document.getElementById("landingTripCode").value.trim().toUpperCase().replace(/[^A-Z0-9_-]/g, "");
      if (!code) return;
      window.location.href = "./planner.html?trip=" + encodeURIComponent(code);
    }
  </script>
</body>
</html>
