<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Coordinate group availability for your next trip. Everyone picks their weeks, the app finds the best overlap." />
  <title>TripWeek â€” Group Trip Planner</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“…</text></svg>" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700;800&family=Sora:wght@500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="/styles.css?v=20260214r" />
  <script src="/theme-init.js?v=20260214r"></script>
</head>
<body>
  <nav class="site-nav">
    <a href="/" class="site-brand">
      <span class="site-logo" aria-hidden="true">ðŸ“…</span>
      <span class="site-wordmark">TripWeek</span>
    </a>
    <div class="site-nav-right">
      <a href="/planner.html" class="site-nav-link">Planner</a>
      <a href="/admin.html" class="site-nav-link">Admin</a>
      <label class="theme-toggle" aria-label="Theme mode">
        <select id="themeSelect">
          <option value="system">System</option>
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>
      </label>
    </div>
  </nav>

  <main class="app-shell landing-shell">
    <header class="landing-hero">
      <span class="landing-eyebrow">Free &middot; No sign-up &middot; Real-time</span>
      <h1>Find the week that<br>works for everyone</h1>
      <p class="landing-sub">Share a trip code with your group. Everyone picks their available weeks. The app shows the best overlap instantly.</p>
    </header>

    <section class="landing-paths">
      <a href="/planner.html" class="landing-card card">
        <div class="landing-card-top">
          <div class="landing-card-icon">&#128197;</div>
          <h2>Join a Trip</h2>
        </div>
        <p>Enter your trip code and name to pick your available weeks and rank your top choices.</p>
        <span class="btn primary landing-btn">Open Planner &rarr;</span>
      </a>

      <div class="landing-card card landing-join-direct">
        <div class="landing-card-top">
          <div class="landing-card-icon">&#128279;</div>
          <h2>Quick Join</h2>
        </div>
        <p>Have a code? Jump straight in.</p>
        <div class="landing-join-form">
          <input id="landingTripCode" type="text" maxlength="18" placeholder="SQUAD2026" autocomplete="off" class="landing-input" aria-label="Trip code" style="text-transform:uppercase;" />
          <button id="landingGoBtn" class="btn primary" type="button" aria-label="Go to trip">Go &rarr;</button>
        </div>
      </div>

      <a href="/admin.html" class="landing-card card">
        <div class="landing-card-top">
          <div class="landing-card-icon">&#9881;</div>
          <h2>Admin Portal</h2>
        </div>
        <p>Create trip codes, manage participants, view group results, and export data.</p>
        <span class="btn landing-btn">Open Admin &rarr;</span>
      </a>
    </section>

    <section class="landing-how card">
      <h2 class="landing-how-title">How it works</h2>
      <div class="landing-how-grid">
        <div class="landing-how-step">
          <span class="landing-how-num">1</span>
          <strong>Create a trip</strong>
          <p>The organizer creates a code in the admin portal and picks the trip window.</p>
        </div>
        <div class="landing-how-step">
          <span class="landing-how-num">2</span>
          <strong>Share the link</strong>
          <p>Everyone opens the link, enters the code and their name. No accounts needed.</p>
        </div>
        <div class="landing-how-step">
          <span class="landing-how-num">3</span>
          <strong>Pick your weeks</strong>
          <p>Browse by month, tap available weeks, and optionally rank your top 5.</p>
        </div>
        <div class="landing-how-step">
          <span class="landing-how-num">4</span>
          <strong>See the overlap</strong>
          <p>Real-time heatmap, leaderboard, and participant status. Book with confidence.</p>
        </div>
      </div>
    </section>

    <footer class="site-footer">
      <p>Free and open source. Built on Cloudflare Pages + D1.</p>
      <div class="site-footer-links">
        <a href="/about.html">About</a>
        <a href="https://github.com/MWaltz469/calendarPlanner" target="_blank" rel="noopener">GitHub</a>
      </div>
    </footer>
  </main>

  <script>
    document.getElementById("landingGoBtn").addEventListener("click", goToTrip);
    document.getElementById("landingTripCode").addEventListener("keydown", function(e) {
      if (e.key === "Enter") goToTrip();
    });
    function goToTrip() {
      var code = document.getElementById("landingTripCode").value.trim().toUpperCase().replace(/[^A-Z0-9_-]/g, "");
      if (!code) return;
      window.location.href = "./planner.html?trip=" + encodeURIComponent(code);
    }
  </script>
</body>
</html>
